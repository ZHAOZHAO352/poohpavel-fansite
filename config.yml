# admin/config.yml

# 后端配置 - 使用Git Gateway（免费）
backend:
  name: git-gateway
  branch: main  # 使用主分支
  commit_messages:
    create: "创建 {{collection}}：'{{slug}}'"
    update: "更新 {{collection}}：'{{slug}}'"
    delete: "删除 {{collection}}：'{{slug}}'"
    uploadMedia: "上传媒体文件：'{{path}}'"
    deleteMedia: "删除媒体文件：'{{path}}'"

# 媒体文件配置
media_folder: "uploads"  # 上传的文件会保存在这个文件夹
public_folder: "/uploads"  # 网站访问的路径

# 网站标题
site_url: "https://你的用户名.github.io/poohpavel-site"
display_url: "https://你的用户名.github.io/poohpavel-site"
logo_url: "https://你的用户名.github.io/poohpavel-site/uploads/logo.png"

# 语言设置
locale: "zh"  # 中文界面

# 编辑器配置
editor:
  preview: true  # 启用预览模式

# 集合配置（这是核心，定义可以编辑的内容类型）
collections:
  # 第一个集合：综艺/电视剧
  - name: "shows"  # 集合ID
    label: "综艺/电视剧"  # 显示名称
    label_singular: "节目"  # 单数名称
    folder: "_data/shows"  # 数据保存的文件夹
    create: true  # 允许创建新内容
    slug: "{{slug}}"  # URL标识
    fields:  # 字段定义
      - {label: "节目名称", name: "title", widget: "string", required: true}
      - {label: "简介", name: "description", widget: "text", required: true}
      - {label: "封面图片", name: "cover", widget: "image", required: true}
      - {label: "分类", name: "category", widget: "select", 
         options: ["综艺", "电视剧", "采访", "直播", "特别节目"], 
         default: "综艺"}
      - {label: "发布日期", name: "date", widget: "datetime", 
         date_format: "YYYY-MM-DD", time_format: false, required: true}
      - {label: "总集数", name: "episodes", widget: "number", 
         default: 1, min: 1, value_type: "int"}
      - {label: "年份", name: "year", widget: "string", default: "2023"}
      - label: "剧集列表"
        name: "episodesList"
        widget: "list"
        fields:
          - {label: "剧集名称", name: "name", widget: "string"}
          - {label: "视频链接", name: "url", widget: "string", required: false}
      - {label: "视频链接", name: "video_url", widget: "string", required: false}
      - {label: "详细内容", name: "content", widget: "markdown", required: true}

  # 第二个集合：视频
  - name: "videos"
    label: "视频"
    label_singular: "视频"
    folder: "_data/videos"
    create: true
    fields:
      - {label: "视频标题", name: "title", widget: "string", required: true}
      - {label: "视频描述", name: "description", widget: "text", required: true}
      - {label: "视频文件", name: "videoUrl", widget: "file", 
         media_library: {config: {multiple: false}}}
      - {label: "缩略图", name: "thumbnail", widget: "image", required: true}
      - {label: "视频时长", name: "duration", widget: "string", default: "3:45"}
      - {label: "发布日期", name: "date", widget: "datetime", 
         date_format: "YYYY-MM-DD", time_format: false}
      - label: "标签"
        name: "tags"
        widget: "list"
        field: {label: "标签", name: "tag", widget: "string"}
        default: ["精彩片段"]
      - {label: "观看次数", name: "views", widget: "number", default: 0, min: 0}
      - {label: "点赞数", name: "likes", widget: "number", default: 0, min: 0}

  # 第三个集合：照片
  - name: "photos"
    label: "照片"
    label_singular: "照片"
    folder: "_data/photos"
    create: true
    fields:
      - {label: "照片标题", name: "title", widget: "string", required: true}
      - {label: "描述", name: "description", widget: "text", required: false}
      - {label: "照片文件", name: "url", widget: "image", required: true}
      - {label: "相册分类", name: "category", widget: "select",
         options: ["event", "daily", "work", "sweet", "fanart"], 
         default: "daily"}
      - {label: "所属相册", name: "album", widget: "string", 
         default: "日常分享"}
      - {label: "发布日期", name: "date", widget: "datetime", 
         date_format: "YYYY-MM-DD", time_format: false}
      - {label: "点赞数", name: "likes", widget: "number", default: 0, min: 0}

  # 第四个集合：最新动态
  - name: "news"
    label: "最新动态"
    label_singular: "动态"
    folder: "_data/news"
    create: true
    fields:
      - {label: "动态标题", name: "title", widget: "string", required: true}
      - {label: "动态内容", name: "content", widget: "markdown", required: true}
      - {label: "封面图片", name: "image", widget: "image", required: false}
      - {label: "重要程度", name: "importance", widget: "select",
         options: ["普通", "重要", "紧急"], default: "普通"}
      - {label: "发布日期", name: "date", widget: "datetime", 
         date_format: "YYYY-MM-DD", time_format: false, required: true}
      - {label: "标签", name: "tag", widget: "string", default: "更新"}

  # 第五个集合：网站设置
  - name: "settings"
    label: "网站设置"
    delete: false  # 禁止删除
    editor:
      preview: false
    files:
      - file: "_data/site.json"
        label: "网站基本信息"
        name: "site"
        fields:
          - {label: "网站标题", name: "title", widget: "string", 
             default: "PoohPavel粉丝站"}
          - {label: "网站描述", name: "description", widget: "text", 
             default: "收集整理Pooh和Pavel的所有作品与动态"}
          - {label: "联系邮箱", name: "email", widget: "string", 
             required: false}
          - label: "社交媒体链接"
            name: "social"
            widget: "object"
            fields:
              - {label: "Instagram", name: "instagram", widget: "string", 
                 required: false}
              - {label: "Twitter", name: "twitter", widget: "string", 
                 required: false}
              - {label: "YouTube", name: "youtube", widget: "string", 
                 required: false}
              - {label: "Facebook", name: "facebook", widget: "string", 
                 required: false}